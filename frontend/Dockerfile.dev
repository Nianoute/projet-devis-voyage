# Image dev : deps uniquement, pas de build (hot reload via volume + ng serve)
FROM node:lts

WORKDIR /app

# Copier uniquement les fichiers de dépendances
COPY package*.json ./
RUN npm install

# Le code source sera monté en volume depuis l'hôte
# CMD lance le serveur de dev Angular avec hot reload
EXPOSE 4200

CMD ["npm", "run", "start", "--", "--host", "0.0.0.0", "--poll", "2000"]
